{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"persons\"\n};\nconst _hoisted_2 = {\n  class: \"persons__body\"\n};\nconst _hoisted_3 = {\n  class: \"persons__header header\"\n};\nconst _hoisted_4 = {\n  class: \"persons__content content\"\n};\nconst _hoisted_5 = {\n  class: \"persons__footer footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_person_form = _resolveComponent(\"person-form\");\n  const _component_person_list = _resolveComponent(\"person-list\");\n  const _component_app_button = _resolveComponent(\"app-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_person_form, {\n    persons: _ctx.getPersons,\n    onAdd: $options.add\n  }, null, 8 /* PROPS */, [\"persons\", \"onAdd\"])]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_person_list, {\n    persons: _ctx.getPersons,\n    onRemove: $options.remove\n  }, null, 8 /* PROPS */, [\"persons\", \"onRemove\"])]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_app_button, {\n    block: \"\",\n    class: _normalizeClass([\"next-btn\", {\n      disabled: $data.hasError\n    }]),\n    onClick: $options.allowTransition\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($data.buttonContent), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\", \"onClick\"])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_person_form","persons","_ctx","getPersons","onAdd","$options","add","_hoisted_4","_component_person_list","onRemove","remove","_hoisted_5","_component_app_button","block","_normalizeClass","disabled","$data","hasError","onClick","allowTransition","buttonContent"],"sources":["/home/amaksimova/Desktop/split_bill/src/pages/PersonPage.vue"],"sourcesContent":["<template>\n\t<div class=\"persons\">\n\t\t<div class=\"persons__body\">\n\t\t\t<div class=\"persons__header header\">\n\t\t\t\t<person-form :persons=\"getPersons\" @add=\"add\" />\n\t\t\t</div>\n\t\t\t<div class=\"persons__content content\">\n\t\t\t\t<person-list :persons=\"getPersons\" @remove=\"remove\" />\n\t\t\t</div>\n\t\t\t<div class=\"persons__footer footer\">\n\t\t\t\t<app-button\n\t\t\t\t\tblock\n\t\t\t\t\tclass=\"next-btn\"\n\t\t\t\t\t:class=\"{ disabled: hasError }\"\n\t\t\t\t\t@click=\"allowTransition\"\n\t\t\t\t\t>{{ buttonContent }}</app-button\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport PersonList from '@/components/PersonList.vue'\nimport PersonForm from '@/components/PersonForm.vue'\nimport { mapGetters, mapMutations } from 'vuex'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tbuttonContent: 'Добавить продукты',\n\t\t\thasError: false, // later changed on true, initial length = 0\n\t\t}\n\t},\n\tcomponents: {\n\t\tPersonList,\n\t\tPersonForm,\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tgetPersons: 'person/getPersons',\n\t\t\tgetPersonsLength: 'person/getPersonsLength',\n\t\t}),\n\t},\n\n\tmethods: {\n\t\t...mapMutations({\n\t\t\taddPerson: 'person/addPerson',\n\t\t\tremovePerson: 'person/removePerson',\n\t\t}),\n\t\t/* как я прочла из др. источников, обращаться к Vuex следуют в компонентах,\n\t\tзагружающих данные (контейнерах). В нашем случае, контейнерами можно считать странички,\n\t\tа в компонентах по типу Form/List/Item лучше использовать props и emit,\n\t\tчто может избавить от проблем, возникающих при их повторном использовании.\n\t\tЕсли я ошибаюсь, буду благодарна за feedback :)  */\n\t\tadd(newPerson) {\n\t\t\tthis.addPerson(newPerson)\n\t\t},\n\n\t\tremove(person) {\n\t\t\tthis.removePerson(person)\n\t\t},\n\n\t\tallowTransition() {\n\t\t\tconst len = this.getPersonsLength\n\t\t\tthis.hasError = true\n\n\t\t\tif (len === 0) {\n\t\t\t\tthis.buttonContent = 'Нет тела, нет дела! Добавьте кого-нибудь!'\n\t\t\t} else if (len === 1) {\n\t\t\t\tthis.buttonContent =\n\t\t\t\t\t'Кушать в одиночестве не хорошо :( Добавьте кого-нибудь еще!'\n\t\t\t} else {\n\t\t\t\tthis.buttonContent = 'Добавить продукты'\n\t\t\t\tthis.$router.push('/products')\n\t\t\t\tthis.hasError = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n"],"mappings":";;EACMA,KAAK,EAAC;AAAS;;EACdA,KAAK,EAAC;AAAe;;EACpBA,KAAK,EAAC;AAAwB;;EAG9BA,KAAK,EAAC;AAA0B;;EAGhCA,KAAK,EAAC;AAAwB;;;;;uBARrCC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBLC,mBAAA,CAgBM,OAhBNC,UAgBM,GAfLD,mBAAA,CAEM,OAFNE,UAEM,GADLC,YAAA,CAAgDC,sBAAA;IAAlCC,OAAO,EAAEC,IAAA,CAAAC,UAAU;IAAGC,KAAG,EAAEC,QAAA,CAAAC;mDAE1CV,mBAAA,CAEM,OAFNW,UAEM,GADLR,YAAA,CAAsDS,sBAAA;IAAxCP,OAAO,EAAEC,IAAA,CAAAC,UAAU;IAAGM,QAAM,EAAEJ,QAAA,CAAAK;sDAE7Cd,mBAAA,CAQM,OARNe,UAQM,GAPLZ,YAAA,CAMCa,qBAAA;IALAC,KAAK,EAAL,EAAK;IACLpB,KAAK,EAAAqB,eAAA,EAAC,UAAU;MAAAC,QAAA,EACIC,KAAA,CAAAC;IAAQ;IAC3BC,OAAK,EAAEb,QAAA,CAAAc;;sBACP,MAAmB,C,kCAAhBH,KAAA,CAAAI,aAAa,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}