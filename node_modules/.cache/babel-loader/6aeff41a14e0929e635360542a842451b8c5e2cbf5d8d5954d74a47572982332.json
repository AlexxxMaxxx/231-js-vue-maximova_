{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ProductForm from '@/components/ProductForm.vue';\nimport ProductList from '@/components/ProductList.vue';\nimport { mapGetters, mapMutations } from 'vuex';\nexport default {\n  data() {\n    return {\n      buttonContent: 'Получить результаты',\n      hasError: true // later changed on true, initial length = 0\n    };\n  },\n  components: {\n    ProductForm,\n    ProductList\n  },\n  computed: {\n    ...mapGetters({\n      getProducts: 'product/getProducts',\n      getProductsLength: 'product/getProductsLength',\n      getPersons: 'person/getPersons'\n    })\n  },\n  methods: {\n    ...mapMutations({\n      addProduct: 'product/addProduct',\n      removeProduct: 'product/removeProduct'\n    }),\n    add(product) {\n      this.addProduct(product);\n    },\n    remove(product) {\n      this.removeProduct(product);\n    },\n    allowTransition() {\n      const len = this.getProductsLength;\n      this.hasError = true;\n      if (len === 0) {\n        this.buttonContent = 'А чего считать-то? Добавьте что-нибудь!';\n      } else if (len === 1) {\n        this.buttonContent = 'А что это мы на диете? Добавьте что-нибудь еще!';\n      } else {\n        this.buttonContent = 'Получить результаты';\n        this.$router.push('/results');\n        this.hasError = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["ProductForm","ProductList","mapGetters","mapMutations","data","buttonContent","hasError","components","computed","getProducts","getProductsLength","getPersons","methods","addProduct","removeProduct","add","product","remove","allowTransition","len","$router","push"],"sources":["/home/amaksimova/Desktop/split_bill/src/pages/ProductPage.vue"],"sourcesContent":["<template>\n\t<div class=\"products\">\n\t\t<div class=\"products__body\">\n\t\t\t<div class=\"products__header header\">\n\t\t\t\t<product-form :persons=\"getPersons\" @add=\"add\"></product-form>\n\t\t\t</div>\n\t\t\t<div class=\"products__content content\">\n\t\t\t\t<product-list\n\t\t\t\t\t:products=\"getProducts\"\n\t\t\t\t\t:persons=\"getPersons\"\n\t\t\t\t\t@remove=\"remove\"\n\t\t\t\t></product-list>\n\t\t\t</div>\n\t\t\t<div class=\"products__footer footer\">\n\t\t\t\t<app-button\n\t\t\t\t\tblock\n\t\t\t\t\tclass=\"next-btn\"\n\t\t\t\t\t:class=\"{ disabled: hasError }\"\n\t\t\t\t\t@click=\"allowTransition\"\n\t\t\t\t\t>{{ buttonContent }}</app-button\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ProductForm from '@/components/ProductForm.vue'\nimport ProductList from '@/components/ProductList.vue'\nimport { mapGetters, mapMutations } from 'vuex'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tbuttonContent: 'Получить результаты',\n\t\t\thasError: true, // later changed on true, initial length = 0\n\t\t}\n\t},\n\tcomponents: {\n\t\tProductForm,\n\t\tProductList,\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tgetProducts: 'product/getProducts',\n\t\t\tgetProductsLength: 'product/getProductsLength',\n\t\t\tgetPersons: 'person/getPersons',\n\t\t}),\n\t},\n\tmethods: {\n\t\t...mapMutations({\n\t\t\taddProduct: 'product/addProduct',\n\t\t\tremoveProduct: 'product/removeProduct',\n\t\t}),\n\n\t\tadd(product) {\n\t\t\tthis.addProduct(product)\n\t\t},\n\n\t\tremove(product) {\n\t\t\tthis.removeProduct(product)\n\t\t},\n\n\t\tallowTransition() {\n\t\t\tconst len = this.getProductsLength\n\t\t\tthis.hasError = true\n\n\t\t\tif (len === 0) {\n\t\t\t\tthis.buttonContent = 'А чего считать-то? Добавьте что-нибудь!'\n\t\t\t} else if (len === 1) {\n\t\t\t\tthis.buttonContent = 'А что это мы на диете? Добавьте что-нибудь еще!'\n\t\t\t} else {\n\t\t\t\tthis.buttonContent = 'Получить результаты'\n\t\t\t\tthis.$router.push('/results')\n\t\t\t\tthis.hasError = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n"],"mappings":";AA2BA,OAAOA,WAAU,MAAO,8BAA6B;AACrD,OAAOC,WAAU,MAAO,8BAA6B;AACrD,SAASC,UAAU,EAAEC,YAAW,QAAS,MAAK;AAE9C,eAAe;EACdC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,aAAa,EAAE,qBAAqB;MACpCC,QAAQ,EAAE,IAAI,CAAE;IACjB;EACD,CAAC;EACDC,UAAU,EAAE;IACXP,WAAW;IACXC;EACD,CAAC;EACDO,QAAQ,EAAE;IACT,GAAGN,UAAU,CAAC;MACbO,WAAW,EAAE,qBAAqB;MAClCC,iBAAiB,EAAE,2BAA2B;MAC9CC,UAAU,EAAE;IACb,CAAC;EACF,CAAC;EACDC,OAAO,EAAE;IACR,GAAGT,YAAY,CAAC;MACfU,UAAU,EAAE,oBAAoB;MAChCC,aAAa,EAAE;IAChB,CAAC,CAAC;IAEFC,GAAGA,CAACC,OAAO,EAAE;MACZ,IAAI,CAACH,UAAU,CAACG,OAAO;IACxB,CAAC;IAEDC,MAAMA,CAACD,OAAO,EAAE;MACf,IAAI,CAACF,aAAa,CAACE,OAAO;IAC3B,CAAC;IAEDE,eAAeA,CAAA,EAAG;MACjB,MAAMC,GAAE,GAAI,IAAI,CAACT,iBAAgB;MACjC,IAAI,CAACJ,QAAO,GAAI,IAAG;MAEnB,IAAIa,GAAE,KAAM,CAAC,EAAE;QACd,IAAI,CAACd,aAAY,GAAI,yCAAwC;MAC9D,OAAO,IAAIc,GAAE,KAAM,CAAC,EAAE;QACrB,IAAI,CAACd,aAAY,GAAI,iDAAgD;MACtE,OAAO;QACN,IAAI,CAACA,aAAY,GAAI,qBAAoB;QACzC,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC,UAAU;QAC5B,IAAI,CAACf,QAAO,GAAI,KAAI;MACrB;IACD;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}