{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport PersonList from '@/components/PersonList.vue';\nimport PersonForm from '@/components/PersonForm.vue';\nimport { mapGetters, mapMutations } from 'vuex';\nexport default {\n  data() {\n    return {\n      buttonContent: 'Добавить продукты',\n      hasError: true\n    };\n  },\n  components: {\n    PersonList,\n    PersonForm\n  },\n  computed: {\n    ...mapGetters({\n      getPersons: 'person/getPersons',\n      getPersonsLength: 'person/getPersonsLength'\n    })\n  },\n  methods: {\n    ...mapMutations({\n      addPerson: 'person/addPerson',\n      removePerson: 'person/removePerson'\n    }),\n    /* как я прочла из др. источников, обращаться к Vuex следуют в компонентах,\n    загружающих данные (контейнерах). В нашем случае, контейнерами можно считать странички,\n    а в компонентах по типу Form/List/Item лучше использовать props и emit,\n    что может избавить от проблем, возникающих при их повторном использовании.\n    Если я ошибаюсь, буду благодарна за feedback :)  */\n    add(newPerson) {\n      this.addPerson(newPerson);\n    },\n    remove(person) {\n      this.removePerson(person);\n    },\n    allowTransition() {\n      const len = this.getPersonsLength;\n      this.hasError = true;\n      if (len === 0) {\n        this.buttonContent = 'Нет тела, нет дела! Добавьте кого-нибудь!';\n      } else if (len === 1) {\n        this.buttonContent = 'Кушать в одиночестве не хорошо :( Добавьте кого-нибудь еще!';\n      } else {\n        this.buttonContent = 'Добавить продукты';\n        this.$router.push('/products');\n        this.hasError = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["PersonList","PersonForm","mapGetters","mapMutations","data","buttonContent","hasError","components","computed","getPersons","getPersonsLength","methods","addPerson","removePerson","add","newPerson","remove","person","allowTransition","len","$router","push"],"sources":["/home/amaksimova/Desktop/split_bill/src/pages/PersonPage.vue"],"sourcesContent":["<template>\n\t<div class=\"persons\">\n\t\t<div class=\"persons__body\">\n\t\t\t<div class=\"persons__header header\">\n\t\t\t\t<person-form :persons=\"getPersons\" @add=\"add\" />\n\t\t\t</div>\n\t\t\t<div class=\"persons__content content\">\n\t\t\t\t<person-list :persons=\"getPersons\" @remove=\"remove\" />\n\t\t\t</div>\n\t\t\t<div class=\"persons__footer footer\">\n\t\t\t\t<app-button\n\t\t\t\t\tblock\n\t\t\t\t\tclass=\"next-btn\"\n\t\t\t\t\t:class=\"{ disabled: hasError }\"\n\t\t\t\t\t@click=\"allowTransition\"\n\t\t\t\t\t>{{ buttonContent }}</app-button\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport PersonList from '@/components/PersonList.vue'\nimport PersonForm from '@/components/PersonForm.vue'\nimport { mapGetters, mapMutations } from 'vuex'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tbuttonContent: 'Добавить продукты',\n\t\t\thasError: true, \n\t\t}\n\t},\n\tcomponents: {\n\t\tPersonList,\n\t\tPersonForm,\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tgetPersons: 'person/getPersons',\n\t\t\tgetPersonsLength: 'person/getPersonsLength',\n\t\t}),\n\t},\n\n\tmethods: {\n\t\t...mapMutations({\n\t\t\taddPerson: 'person/addPerson',\n\t\t\tremovePerson: 'person/removePerson',\n\t\t}),\n\t\t/* как я прочла из др. источников, обращаться к Vuex следуют в компонентах,\n\t\tзагружающих данные (контейнерах). В нашем случае, контейнерами можно считать странички,\n\t\tа в компонентах по типу Form/List/Item лучше использовать props и emit,\n\t\tчто может избавить от проблем, возникающих при их повторном использовании.\n\t\tЕсли я ошибаюсь, буду благодарна за feedback :)  */\n\t\tadd(newPerson) {\n\t\t\tthis.addPerson(newPerson)\n\t\t},\n\n\t\tremove(person) {\n\t\t\tthis.removePerson(person)\n\t\t},\n\n\t\tallowTransition() {\n\t\t\tconst len = this.getPersonsLength\n\t\t\tthis.hasError = true\n\n\t\t\tif (len === 0) {\n\t\t\t\tthis.buttonContent = 'Нет тела, нет дела! Добавьте кого-нибудь!'\n\t\t\t} else if (len === 1) {\n\t\t\t\tthis.buttonContent =\n\t\t\t\t\t'Кушать в одиночестве не хорошо :( Добавьте кого-нибудь еще!'\n\t\t\t} else {\n\t\t\t\tthis.buttonContent = 'Добавить продукты'\n\t\t\t\tthis.$router.push('/products')\n\t\t\t\tthis.hasError = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n"],"mappings":";AAuBA,OAAOA,UAAS,MAAO,6BAA4B;AACnD,OAAOC,UAAS,MAAO,6BAA4B;AACnD,SAASC,UAAU,EAAEC,YAAW,QAAS,MAAK;AAE9C,eAAe;EACdC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,aAAa,EAAE,mBAAmB;MAClCC,QAAQ,EAAE;IACX;EACD,CAAC;EACDC,UAAU,EAAE;IACXP,UAAU;IACVC;EACD,CAAC;EACDO,QAAQ,EAAE;IACT,GAAGN,UAAU,CAAC;MACbO,UAAU,EAAE,mBAAmB;MAC/BC,gBAAgB,EAAE;IACnB,CAAC;EACF,CAAC;EAEDC,OAAO,EAAE;IACR,GAAGR,YAAY,CAAC;MACfS,SAAS,EAAE,kBAAkB;MAC7BC,YAAY,EAAE;IACf,CAAC,CAAC;IACF;;;;;IAKAC,GAAGA,CAACC,SAAS,EAAE;MACd,IAAI,CAACH,SAAS,CAACG,SAAS;IACzB,CAAC;IAEDC,MAAMA,CAACC,MAAM,EAAE;MACd,IAAI,CAACJ,YAAY,CAACI,MAAM;IACzB,CAAC;IAEDC,eAAeA,CAAA,EAAG;MACjB,MAAMC,GAAE,GAAI,IAAI,CAACT,gBAAe;MAChC,IAAI,CAACJ,QAAO,GAAI,IAAG;MAEnB,IAAIa,GAAE,KAAM,CAAC,EAAE;QACd,IAAI,CAACd,aAAY,GAAI,2CAA0C;MAChE,OAAO,IAAIc,GAAE,KAAM,CAAC,EAAE;QACrB,IAAI,CAACd,aAAY,GAChB,6DAA4D;MAC9D,OAAO;QACN,IAAI,CAACA,aAAY,GAAI,mBAAkB;QACvC,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC,WAAW;QAC7B,IAAI,CAACf,QAAO,GAAI,KAAI;MACrB;IACD;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}