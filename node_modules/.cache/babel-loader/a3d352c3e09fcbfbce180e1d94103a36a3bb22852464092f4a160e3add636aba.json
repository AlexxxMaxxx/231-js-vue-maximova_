{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, withModifiers as _withModifiers, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_app_input = _resolveComponent(\"app-input\");\n  const _component_app_button = _resolveComponent(\"app-button\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\"YES\"), _createElementVNode(\"form\", {\n    class: \"person-form\",\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n  }, [_createVNode(_component_app_input, {\n    class: _normalizeClass([\"person-form__input input\", {\n      invalid: _ctx.hasError\n    }]),\n    isLabel: false,\n    modelValue: _ctx.name,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.name = $event),\n    modelModifiers: {\n      trim: true\n    },\n    type: \"text\",\n    placeholder: \"Имя\"\n  }, null, 8 /* PROPS */, [\"class\", \"modelValue\"]), _createVNode(_component_app_button, {\n    class: _normalizeClass([\"person-form__add-btn add-btn\", {\n      disabled: _ctx.hasError\n    }]),\n    onClick: $options.inputValidation\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.buttonContent), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\", \"onClick\"])], 32 /* NEED_HYDRATION */)], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["_createCommentVNode","_createElementVNode","class","onSubmit","_cache","_withModifiers","_createVNode","_component_app_input","_normalizeClass","invalid","_ctx","hasError","isLabel","name","$event","trim","type","placeholder","_component_app_button","disabled","onClick","$options","inputValidation","buttonContent"],"sources":["/Users/anastasiia_maxim/Desktop/split_bill/src/components/PersonForm.vue"],"sourcesContent":["<template> <!--YES-->\n\t<form class=\"person-form\" @submit.prevent>\n\t\t<app-input\n\t\t\tclass=\"person-form__input input\"\n\t\t\t:class=\"{ invalid: hasError }\"\n\t\t\t:isLabel=\"false\"\n\t\t\tv-model.trim=\"name\"\n\t\t\ttype=\"text\"\n\t\t\tplaceholder=\"Имя\"\n\t\t/>\n\t\t<app-button\n\t\t\tclass=\"person-form__add-btn add-btn\"\n\t\t\t:class=\"{ disabled: hasError }\"\n\t\t\t@click=\"inputValidation\"\n\t\t\t>{{ buttonContent }}</app-button\n\t\t>\n\t</form>\n</template>\n\n<script>\nimport { useVuelidate } from '@vuelidate/core'\nimport { required, minLength } from '@vuelidate/validators'\n\nexport default {\n\tprops: {\n\t\tpersons: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup() {\n\t\treturn { v$: useVuelidate() }\n\t},\n\tdata: () => ({\n\t\tname: '',\n\t\tbuttonContent: 'Добавить',\n\t\thasError: false,\n\t\tlabel: ''\n\t}),\n\tvalidations() {\n\t\treturn {\n\t\t\tname: {\n\t\t\t\trequired,\n\t\t\t\tminLength: minLength(3),\n\t\t\t},\n\t\t}\n\t},\n\tmethods: {\n\t\tinputValidation() {\n\t\t\tthis.v$.$touch()\n\t\t\tif (!this.v$.$error) {\n\t\t\t\tif (!this.persons.find(p => p.name === this.name)) {\n\t\t\t\t\tthis.hasError = false\n\t\t\t\t\tthis.buttonContent = 'Добавить'\n\t\t\t\t\tthis.addPerson()\n\t\t\t\t} else {\n\t\t\t\t\tthis.hasError = true\n\t\t\t\t\tthis.buttonContent = 'Это имя уже используется!'\n\t\t\t\t}\n\t\t\t} else if (this.v$.name.$dirty) {\n\t\t\t\tthis.hasError = true\n\t\t\t\tif (this.v$.name.required.$invalid) {\n\t\t\t\t\tthis.buttonContent = 'Обязательное поле!'\n\t\t\t\t} else if (this.v$.name.minLength.$invalid) {\n\t\t\t\t\tthis.buttonContent = 'Слишком короткое имя!'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\taddPerson() {\n\t\t\tthis.$emit('add', {\n\t\t\t\tid: Date.now(),\n\t\t\t\tname:\n\t\t\t\t\tthis.name.charAt(0).toUpperCase() + this.name.toLowerCase().slice(1),\n\t\t\t\tdebts: [],\n\t\t\t})\n\t\t\tthis.name = ''\n\t\t},\n\t},\n}\n</script>\n"],"mappings":";;;;6DAACA,mBAAA,OAAU,EACVC,mBAAA,CAeO;IAfDC,KAAK,EAAC,aAAa;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAP,QAAe;MACxCC,YAAA,CAOEC,oBAAA;IANDL,KAAK,EAAAM,eAAA,EAAC,0BAA0B;MAAAC,OAAA,EACbC,IAAA,CAAAC;IAAQ;IAC1BC,OAAO,EAAE,KAAK;gBACDF,IAAA,CAAAG,IAAI;+DAAJH,IAAA,CAAAG,IAAI,GAAAC,MAAA;oBAAlB;MAAAC,IAAA;IAAA,CAAmB;IACnBC,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC;oDAEbX,YAAA,CAKCY,qBAAA;IAJAhB,KAAK,EAAAM,eAAA,EAAC,8BAA8B;MAAAW,QAAA,EAChBT,IAAA,CAAAC;IAAQ;IAC3BS,OAAK,EAAEC,QAAA,CAAAC;;sBACP,MAAmB,C,kCAAhBZ,IAAA,CAAAa,aAAa,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}